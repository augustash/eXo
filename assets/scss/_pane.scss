@import "compass/css3/transform";

#exo-frame{

  #exo-pane-wrapper{
    display:none;
  }

  .exo-pane-active{

    @include perspective(1500px);

    #exo-instance-wrapper{
      @include transition(transform 0.5s);
      @include transform-style(preserve-3d);
      @include transform-origin(100%, 50%);
    }

    #exo-instance-wrapper::after{
      position: absolute;
      top: 0;
      right: 0;
      width: 0;
      height: 0;
      background: rgba(0,0,0,0.2);
      content: '';
      opacity: 0;
      -webkit-transition: opacity 0.5s, width 0.1s 0.5s, height 0.1s 0.5s;
      transition: opacity 0.5s, width 0.1s 0.5s, height 0.1s 0.5s;
      z-index: 1002;
    }

    #exo-pane-wrapper{
      height:100%;
      width:100%;
      display:block;
      position: absolute;
      top:0;
      right:0;
      bottom:0;
      left:0;
      overflow: hidden;
      @include perspective(1500px);
      z-index:2000;

      #exo-pane{
        position: absolute;
        top: 0;
        left: 0;
        z-index: 100;
        visibility: hidden;
        width: 500px;
        height: 100%;
        background: #ffffff;
        @include transition(all 0.5s);
        @include opacity(1);
        @include translate3d(-100%, 0, 0);
      }
    }

    &.exo-pane-open{

      #exo-instance-wrapper{
        @include transform(rotateY(-10deg));
        // @include transform(translate3d(0, 0, -300px));
        // @include transform(rotate3d(0, 0,-300px,-10deg));
      }

      #exo-instance-wrapper::after{
        width: 100%;
        height: 100%;
        opacity: 1;
        @include transition(opacity 0.5s);
      }

      #exo-pane-wrapper{

        #exo-pane{
          visibility: visible;
          @include transition(transform 0.5s);
          @include transform(translate3d(0, 0, 0));
        }

      }
    }

    #exo-pane-inner{
      padding:20px;

      #exo-pane-title{
        font-size:30px;
        border-bottom:1px solid #f0f0f0;
        padding-bottom:20px;
        margin-bottom:10px;
        letter-spacing:-.5px;
      }

      // Imagefield focus overrides
      .imagefield-focus.focus-box{
        width:100%;
        height:100%;
        top:0;
        left:0;
        bottom:0;
        right:0;
        position:absolute;
        margin:0;
        padding-top:45px;
      }

      .imagefield-focus-finish{
        margin:0;
        top:0;
        left:0;
        padding:5px;
        width:100%;
        text-align:center;
      }
    }
  }
}
